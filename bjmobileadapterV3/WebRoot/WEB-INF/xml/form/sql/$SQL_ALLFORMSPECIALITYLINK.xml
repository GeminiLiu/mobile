<?xml version="1.0" encoding="GB2312"?>
<sql-group>
	<doc>
		<author>duanximeng</author>
		<date>2006-03-26</date>
		<description>河北EOMS工单统计
		</description>
	</doc>
	<!-- 受理用户-->
	<sql name="hbeoms.allformspecialitylinksql" datasource="Ultranms">
		<item dbms="All"><![CDATA[
        
        select
distinct(t.c1) as 编号,t.c700000001 as 工单名称,t.c700000003 as 工单编号,t.c700000006 as 建单时间,t.c700000004 as 建单人,t.c700000011 as 主题,t.c700000015 as 紧急程度,t.c700000014 as 所属专业,t.c700000010 as 工单状态
              from {400} t,{100} log
        where
              t.C1=log.c700020407
              and log.c700020408=t.c700000001
              {1}
              {2}
              {3}
              {4}
              and  log.C700020402 in ('受理','完成','派发','阶段处理')
              union all
              select
distinct(t.c1) as 编号,t.c700000001 as 工单名称,t.c700000003 as 工单编号,t.c700000006 as 建单时间,t.c700000004 as 建单人,t.c700000011 as 主题,t.c700000015 as 紧急程度,t.c700000014 as 所属专业,t.c700000010 as 工单状态
              from {400} t,{200} log
        where
              t.C1=log.c700020407
              and log.c700020408=t.c700000001
              {1}
              {2}
              {3}
              {4}
              and  log.C700020402 in ('受理','完成','派发','阶段处理')

		]]></item>
	</sql>
	<!-- 受理部门-->
		<sql name="hbeoms.allformspecialitylinksendscopename" datasource="Ultranms">
		<item dbms="All"><![CDATA[
        select
distinct(t.c1) as 编号,t.c700000001 as 工单名称,t.c700000003 as 工单编号,t.c700000006 as 建单时间,t.c700000004 as 建单人,t.c700000011 as 主题,t.c700000015 as 紧急程度,t.c700000014 as 所属专业,t.c700000010 as 工单状态
              from {1000} t,{100} log,{300} u,{400} g,{500} gu
         where
              log.C700020402 in ('受理','完成','派发','阶段处理')
              and t.C1=log.c700020407
              and log.c700020408=t.c700000001
              {1}
              {2}
              {3}
              {4} 
              and log.c700020404=u.c630000001
              and u.C1=gu.c620000028
              and gu.c620000027=g.C1
              union all
              select
distinct(t.c1) as 编号,t.c700000001 as 工单名称,t.c700000003 as 工单编号,t.c700000006 as 建单时间,t.c700000004 as 建单人,t.c700000011 as 主题,t.c700000015 as 紧急程度,t.c700000014 as 所属专业,t.c700000010 as 工单状态
              from {1000} t,{200} log,{300} u,{400} g,{500} gu
         where
              log.C700020402 in ('受理','完成','派发','阶段处理')
              and t.C1=log.c700020407
              and log.c700020408=t.c700000001
              {1}
              {2}
              {3}
              {4} 
              and log.c700020404=u.c630000001
              and u.C1=gu.c620000028
              and gu.c620000027=g.C1
              

		]]></item>
	</sql>
	<!-- 派单人-->
		<sql name="hbeoms.allformspecialitylinksendpfrolename" datasource="Ultranms">
		<item dbms="All"><![CDATA[
        select
distinct(t.c1) as 编号,t.c700000001 as 工单名称,t.c700000003 as 工单编号,t.c700000006 as 建单时间,t.c700000004 as 建单人,t.c700000011 as 主题,t.c700000015 as 紧急程度,t.c700000014 as 所属专业,t.c700000010 as 工单状态
              from {1000} t
        where
              1=1
              {1}
              {4}
              {3}
              {2}

		]]></item>
	</sql>
	<!-- 派发部门-->
		<sql name="hbeoms.allformspecialitysendspflinkcopename" datasource="Ultranms">
		<item dbms="All"><![CDATA[
         select
distinct(t.c1) as 编号,t.c700000001 as 工单名称,t.c700000003 as 工单编号,t.c700000006 as 建单时间,t.c700000004 as 建单人,t.c700000011 as 主题,t.c700000015 as 紧急程度,t.c700000014 as 所属专业,t.c700000010 as 工单状态
               from {1000} t,{300} u,{400} g,{500} gu
         where
               1=1
               {1}
               {4}
               {3}
               {2}
               and t.c700000005=u.c630000001
               and u.C1=gu.c620000028
               and gu.c620000027=g.C1
		]]></item>
	</sql>
		<sql name="hbeoms.titlename" datasource="Ultranms">
		<item dbms="All"><![CDATA[
  
select 't'||t.schemaid,BaseCategory.C650000001 as basechname, BaseCategory.C650000002 as basename from {500} BaseCategory,arschema t
where  t.name=BaseCategory.C650000002 and t.schemaid={5}
		]]></item>
	</sql>
	
		<sql name="hbeoms.allformpeoplesql" datasource="Ultranms">
		<item dbms="All"><![CDATA[
  
        select u.C630000003 as 受理人 from {200} u where 1=1 {2}

		]]></item>
	</sql>
	
		<sql name="hbeoms.allformspecialitysql" datasource="Ultranms">
		<item dbms="All"><![CDATA[
  
        select u.c802800001 as 专业 from {400} u 

		]]></item>
	</sql>
	
	<sql name="hbeoms.allformgroupsql" datasource="Ultranms">
		<item dbms="All"><![CDATA[
  
       select g.C630000018 as 派单部门 from {200} g where 1=1 {2}

		]]></item>
	</sql>
</sql-group>


<?xml version="1.0" encoding="UTF-8"?>
<sql-group>
<!--2012年5月7日添加待办、待审、待阅工单查询	-->
	<sqlquery name="query.MyWaitingDeal.deal.user">
		<select>
		<![CDATA[
		select 
			/*COUNT*/
			*
			/*COUNT*/
			 from(
		select  
			base.C700000000 as baseid,
			C700000001      as baseschema,
			C700000002      as basename,
			C700000003      as basesn,
			C700000018      as BaseDealOutTime,
			C700000010      as BaseStatus,
			C700000011      as BaseSummary,
			C700000004      as BaseCreatorFullName,
			dp.C1           as processid,
			C700020018      as ProDesc,
			C700020020      as FlagActive,
			C700020019      as FlagType,
			C700020043      as ProcessType,
			C700020005      as Assginee,
			C700020101      as AssigneeCorp,
			C700020103      as AssigneeDep,
			C700020009      as Dealer,
			C700020111      as DealerCorp,
			C700020113      as DealerDep,
			C700020007      as groupname,
			C700020015      as StDate,
			C700020016      as BgDate,
			C700020011      as ProcessStatus,
			C700020013      as ProcessAcceptOutTime,
			C700020014      as ProcessDealOutTime,
			C700000008      as BaseFinishDate,
			C700000022      as BaseTplID
		from {WF:App_Base_Infor} base,{WF:App_DealProcess} dp 
		where
			base.C700000000 = dp.C700020001
			and base.C700000001 = dp.C700020002
			and dp.C700020020 = '1'
        
		$waitdealuser$
		and (C700020019 = '0' or C700020019 = '1' or C700020019 = '4')
		$sch_assginee$
		$sch_basepara$
		) result 
		$extend$ 
		  ]]> 
		</select>

 

		<customwhere>
			<parameterMap prepend="AND" name="waitdealuser">
				<parameterMap prepend="" name="waitdealuser">
					<mapingFiled  prepend="AND" fieldName="type"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700020016 is null
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="baseid"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000000 like '%#baseid#'
							 ]]>  			
						</mapsql>
					</mapingFiled>	
					
					<mapingFiled  prepend="AND" fieldName="BaseSN"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000003 = '#BaseSN#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
			

					<mapingFiled  prepend="AND" fieldName="BaseCreateDate_1"  fieldType="7">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000006 > '#BaseCreateDate_1#' 
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="BaseCreateDate_2"  fieldType="7">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000006 < '#BaseCreateDate_2#' 
							 ]]>  			
						</mapsql>
					</mapingFiled>
	
					<mapingFiled  prepend="AND" fieldName="BaseStatus"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000010 = '#BaseStatus#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
								
					<mapingFiled  prepend="AND" fieldName="BaseSummary"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000011 like '%#BaseSummary#%'
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="AssigneeDep"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000103 like '%#AssigneeDep#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
						
					<mapingFiled  prepend="AND" fieldName="BaseCreatorFullName"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000004 like '%#BaseCreatorFullName#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
					

					<parameterMap prepend="AND" name="waitdealuser">
						<mapingFiled  prepend="OR" fieldName="AssgineeID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 C700020006 = '#AssgineeID#' or C700020048 = '#AssgineeID#'
								 ]]>  			
							</mapsql>
						</mapingFiled>
						<mapingFiled  prepend="OR" fieldName="GroupID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 ';#GroupID#' like '%;' || C700020008 || ';%'
								 ]]>  			
							</mapsql>
						</mapingFiled>
						<mapingFiled  prepend="OR" fieldName="CloseBaseSamenessGroupID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 ';#CloseBaseSamenessGroupID#' like '%;' || C700020051 || ';%'
								 ]]>  			
							</mapsql>
						</mapingFiled>
						<mapingFiled  prepend="OR" fieldName="RoleID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 ';#RoleID#' like '%;' || C700020008 || ';%'
								 ]]>  			
							</mapsql>
						</mapingFiled>
					</parameterMap>
				</parameterMap>
				
				<parameterMap prepend="OR" name="waitdealuser_asg">
					<mapingFiled  prepend="AND" fieldName="type"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700020016 > '0'
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="baseid"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000000 like '%#baseid#'
							 ]]>  			
						</mapsql>
					</mapingFiled>	
				
					<mapingFiled  prepend="AND" fieldName="BaseSN"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000003 = '#BaseSN#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
			

					<mapingFiled  prepend="AND" fieldName="BaseCreateDate_1"  fieldType="7">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000006 > '#BaseCreateDate_1#' 
							 ]]>  			
						</mapsql>
					</mapingFiled>
	
					<mapingFiled  prepend="AND" fieldName="BaseCreateDate_2"  fieldType="7">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000006 < '#BaseCreateDate_2#' 
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="BaseStatus"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000010 = '#BaseStatus#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
									
					<mapingFiled  prepend="AND" fieldName="BaseSummary"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000011 like '%#BaseSummary#%'
							 ]]>  			
						</mapsql>
					</mapingFiled>
					
					<mapingFiled  prepend="AND" fieldName="AssigneeDep"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000103 like '%#AssigneeDep#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
						
					<mapingFiled  prepend="AND" fieldName="BaseCreatorFullName"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000004 like '%#BaseCreatorFullName#'
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<parameterMap prepend="AND" name="waitdealuser">
						<mapingFiled  prepend="OR" fieldName="AssgineeID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 C700020010 = '#AssgineeID#'
								 ]]>  			
							</mapsql>
						</mapingFiled>
						<parameterMap prepend="OR" name="waitdealuser">
							<mapingFiled  prepend="AND" fieldName="GroupID"  fieldType="4">
								<mapsql value="isnotnull">
									<![CDATA[
										 C700020049 = '0'
									 ]]>  			
								</mapsql>
							</mapingFiled>
							<mapingFiled  prepend="AND" fieldName="GroupID"  fieldType="4">
								<mapsql value="isnotnull">
									<![CDATA[
										 ';#GroupID#' like '%;' || C700020008 || ';%'
									 ]]>  			
								</mapsql>
							</mapingFiled>
							<mapingFiled  prepend="OR" fieldName="RoleID"  fieldType="4">
								<mapsql value="isnotnull">
									<![CDATA[
										 ';#RoleID#' like '%;' || C700020008 || ';%'
									 ]]>  			
								</mapsql>
							</mapingFiled>
						</parameterMap>
					</parameterMap>
				</parameterMap>
			</parameterMap>
			<parameterMap prepend="AND" name="sch_assginee">
				<mapingFiled  prepend="AND" fieldName="Assginee"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700020005 like '%#Assginee#%'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="groupname"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700020007 like '%#groupname#%'
						 ]]>  			
					</mapsql>
				</mapingFiled>
			</parameterMap>
			<parameterMap prepend="AND" name="sch_basepara">
				<mapingFiled  prepend="AND" fieldName="baseschema"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000001 = '#baseschema#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="baseclass"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000043 = '#baseclass#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
			</parameterMap>
			<parameterMap prepend="EXTEND" name="extend">
					<mapingFiled  prepend="EXTEND" fieldName="orderby"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								   order by #orderby#
							 ]]>
						</mapsql>
					</mapingFiled>
			</parameterMap>
		</customwhere>
		<sqlother>
			<sqlpagination isavailability="true">
				<sqlpageSize>20</sqlpageSize>
			</sqlpagination>
			<sqldistinct isavailability="false">排重的列1,排重的列2</sqldistinct>
			<sqlSortFields isavailability="false">排序的列1,排序的列2</sqlSortFields>
		</sqlother>
		<PageQueryField>

		<field name="c1">
				<fieldID>700000000</fieldID>
				<fieldEnglishname>baseid</fieldEnglishname>
				<fieldChinesename>工单号</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>
			<field name="BaseSN">
				<fieldID>700000003</fieldID>
				<fieldEnglishname>BaseSN</fieldEnglishname>
				<fieldChinesename>工单流水号</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>
			<field name="BaseCreateDate">
				<fieldID>700000006</fieldID>
				<fieldEnglishname>BaseCreateDate</fieldEnglishname>
				<fieldChinesename>建单时间</fieldChinesename>
				<fieldType>7</fieldType>
				<fieldDisplaytype>7</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>
			<field name="BaseSummary">
				<fieldID>700000011</fieldID>
				<fieldEnglishname>BaseSummary</fieldEnglishname>
				<fieldChinesename>工单主题</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>			
			<field name="BaseStatus">
				<fieldID>700000010</fieldID>
				<fieldEnglishname>BaseStatus</fieldEnglishname>
				<fieldChinesename>工单状态</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>	
			
			<field name="BaseCreatorDep">
				<fieldID>700000103</fieldID>
				<fieldEnglishname>AssigneeDep</fieldEnglishname>
				<fieldChinesename>建单人部门</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>	
			
			<field name="BaseCreatorFullName">
				<fieldID>700000004</fieldID>
				<fieldEnglishname>BaseCreatorFullName</fieldEnglishname>
				<fieldChinesename>建单人</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>

		</PageQueryField>
	</sqlquery>
	<sqlquery name="query.MyWaitingDeal.read.user">
		<select>
		<![CDATA[
		select 
			/*COUNT*/
			*
			/*COUNT*/
			 from(
		select  
			base.C700000000 as baseid,
			C700000001      as baseschema,
			C700000002      as basename,
			C700000003      as basesn,
			C700000018      as BaseDealOutTime,
			C700000010      as BaseStatus,
			C700000011      as BaseSummary,
			C700000004      as BaseCreatorFullName,
			dp.C1           as processid,
			C700020018      as ProDesc,
			C700020020      as FlagActive,
			C700020019      as FlagType,
			C700020043      as ProcessType,
			C700020005      as Assginee,
			C700020101      as AssigneeCorp,
			C700020103      as AssigneeDep,
			C700020009      as Dealer,
			C700020111      as DealerCorp,
			C700020113      as DealerDep,
			C700020007      as groupname,
			C700020015      as StDate,
			C700020016      as BgDate,
			C700020011      as ProcessStatus,
			C700020013      as ProcessAcceptOutTime,
			C700020014      as ProcessDealOutTime,
			C700000008      as BaseFinishDate,
			C700000022      as BaseTplID
		from {WF:App_Base_Infor} base,{WF:App_DealProcess} dp 
		where
			base.C700000000 = dp.C700020001
			and base.C700000001 = dp.C700020002
			and dp.C700020020 = '1'
        
		$waitdealuser$
		and (C700020019 = '2')
		$sch_assginee$
		$sch_basepara$
		) result 
		$extend$ 
		  ]]> 
		</select>

 

		<customwhere>
			<parameterMap prepend="AND" name="waitdealuser">
				<parameterMap prepend="" name="waitdealuser">
					<mapingFiled  prepend="AND" fieldName="type"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700020016 is null
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="baseid"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000000 like '%#baseid#'
							 ]]>  			
						</mapsql>
					</mapingFiled>	
					
					<mapingFiled  prepend="AND" fieldName="BaseSN"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000003 = '#BaseSN#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
			

					<mapingFiled  prepend="AND" fieldName="BaseCreateDate_1"  fieldType="7">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000006 > '#BaseCreateDate_1#' 
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="BaseCreateDate_2"  fieldType="7">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000006 < '#BaseCreateDate_2#' 
							 ]]>  			
						</mapsql>
					</mapingFiled>
	
					<mapingFiled  prepend="AND" fieldName="BaseStatus"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000010 = '#BaseStatus#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
								
					<mapingFiled  prepend="AND" fieldName="BaseSummary"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000011 like '%#BaseSummary#%'
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="AssigneeDep"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000103 like '%#AssigneeDep#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
						
					<mapingFiled  prepend="AND" fieldName="BaseCreatorFullName"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000004 like '%#BaseCreatorFullName#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
					

					<parameterMap prepend="AND" name="waitdealuser">
						<mapingFiled  prepend="OR" fieldName="AssgineeID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 C700020006 = '#AssgineeID#' or C700020048 = '#AssgineeID#'
								 ]]>  			
							</mapsql>
						</mapingFiled>
						<mapingFiled  prepend="OR" fieldName="GroupID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 ';#GroupID#' like '%;' || C700020008 || ';%'
								 ]]>  			
							</mapsql>
						</mapingFiled>
						<mapingFiled  prepend="OR" fieldName="CloseBaseSamenessGroupID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 ';#CloseBaseSamenessGroupID#' like '%;' || C700020051 || ';%'
								 ]]>  			
							</mapsql>
						</mapingFiled>
						<mapingFiled  prepend="OR" fieldName="RoleID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 ';#RoleID#' like '%;' || C700020008 || ';%'
								 ]]>  			
							</mapsql>
						</mapingFiled>
					</parameterMap>
				</parameterMap>
				
				<parameterMap prepend="OR" name="waitdealuser_asg">
					<mapingFiled  prepend="AND" fieldName="type"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700020016 > '0'
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="baseid"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000000 like '%#baseid#'
							 ]]>  			
						</mapsql>
					</mapingFiled>	
				
					<mapingFiled  prepend="AND" fieldName="BaseSN"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000003 = '#BaseSN#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
			

					<mapingFiled  prepend="AND" fieldName="BaseCreateDate_1"  fieldType="7">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000006 > '#BaseCreateDate_1#' 
							 ]]>  			
						</mapsql>
					</mapingFiled>
	
					<mapingFiled  prepend="AND" fieldName="BaseCreateDate_2"  fieldType="7">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000006 < '#BaseCreateDate_2#' 
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="BaseStatus"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000010 = '#BaseStatus#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
									
					<mapingFiled  prepend="AND" fieldName="BaseSummary"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000011 like '%#BaseSummary#%'
							 ]]>  			
						</mapsql>
					</mapingFiled>
					
					<mapingFiled  prepend="AND" fieldName="AssigneeDep"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000103 like '%#AssigneeDep#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
						
					<mapingFiled  prepend="AND" fieldName="BaseCreatorFullName"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000004 like '%#BaseCreatorFullName#'
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<parameterMap prepend="AND" name="waitdealuser">
						<mapingFiled  prepend="OR" fieldName="AssgineeID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 C700020010 = '#AssgineeID#'
								 ]]>  			
							</mapsql>
						</mapingFiled>
						<parameterMap prepend="OR" name="waitdealuser">
							<mapingFiled  prepend="AND" fieldName="GroupID"  fieldType="4">
								<mapsql value="isnotnull">
									<![CDATA[
										 C700020049 = '0'
									 ]]>  			
								</mapsql>
							</mapingFiled>
							<mapingFiled  prepend="AND" fieldName="GroupID"  fieldType="4">
								<mapsql value="isnotnull">
									<![CDATA[
										 ';#GroupID#' like '%;' || C700020008 || ';%'
									 ]]>  			
								</mapsql>
							</mapingFiled>
							<mapingFiled  prepend="OR" fieldName="RoleID"  fieldType="4">
								<mapsql value="isnotnull">
									<![CDATA[
										 ';#RoleID#' like '%;' || C700020008 || ';%'
									 ]]>  			
								</mapsql>
							</mapingFiled>
						</parameterMap>
					</parameterMap>
				</parameterMap>
			</parameterMap>
			<parameterMap prepend="AND" name="sch_assginee">
				<mapingFiled  prepend="AND" fieldName="Assginee"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700020005 like '%#Assginee#%'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="groupname"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700020007 like '%#groupname#%'
						 ]]>  			
					</mapsql>
				</mapingFiled>
			</parameterMap>
			<parameterMap prepend="AND" name="sch_basepara">
				<mapingFiled  prepend="AND" fieldName="baseschema"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000001 = '#baseschema#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="baseclass"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000043 = '#baseclass#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
			</parameterMap>
			<parameterMap prepend="EXTEND" name="extend">
					<mapingFiled  prepend="EXTEND" fieldName="orderby"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								   order by #orderby#
							 ]]>
						</mapsql>
					</mapingFiled>
			</parameterMap>
		</customwhere>
		<sqlother>
			<sqlpagination isavailability="true">
				<sqlpageSize>20</sqlpageSize>
			</sqlpagination>
			<sqldistinct isavailability="false">排重的列1,排重的列2</sqldistinct>
			<sqlSortFields isavailability="false">排序的列1,排序的列2</sqlSortFields>
		</sqlother>
		<PageQueryField>

		<field name="c1">
				<fieldID>700000000</fieldID>
				<fieldEnglishname>baseid</fieldEnglishname>
				<fieldChinesename>工单号</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>
			<field name="BaseSN">
				<fieldID>700000003</fieldID>
				<fieldEnglishname>BaseSN</fieldEnglishname>
				<fieldChinesename>工单流水号</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>
			<field name="BaseCreateDate">
				<fieldID>700000006</fieldID>
				<fieldEnglishname>BaseCreateDate</fieldEnglishname>
				<fieldChinesename>建单时间</fieldChinesename>
				<fieldType>7</fieldType>
				<fieldDisplaytype>7</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>
			<field name="BaseSummary">
				<fieldID>700000011</fieldID>
				<fieldEnglishname>BaseSummary</fieldEnglishname>
				<fieldChinesename>工单主题</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>			
			<field name="BaseStatus">
				<fieldID>700000010</fieldID>
				<fieldEnglishname>BaseStatus</fieldEnglishname>
				<fieldChinesename>工单状态</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>	
			
			<field name="BaseCreatorDep">
				<fieldID>700000103</fieldID>
				<fieldEnglishname>AssigneeDep</fieldEnglishname>
				<fieldChinesename>建单人部门</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>	
			
			<field name="BaseCreatorFullName">
				<fieldID>700000004</fieldID>
				<fieldEnglishname>BaseCreatorFullName</fieldEnglishname>
				<fieldChinesename>建单人</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>

		</PageQueryField>
	</sqlquery>
	<sqlquery name="query.MyWaitingDeal.audit.user">
		<select>
		<![CDATA[
		select 
			/*COUNT*/
			*
			/*COUNT*/
			 from(
		select 
			base.C700000000 as baseid,
			C700000001      as baseschema,
			C700000002      as basename,
			C700000003      as basesn,
			C700000018      as BaseDealOutTime,
			C700000010      as BaseStatus,
			C700000011      as BaseSummary,
			C700000004      as BaseCreatorFullName,
			ap.C1           as processid,
			C700020018      as ProDesc,
			C700020020      as FlagActive,
			C700020019      as FlagType,
			C700020043      as ProcessType,
			C700020005      as Assginee,
			C700020101      as AssigneeCorp,
			C700020103      as AssigneeDep,
			C700020009      as Dealer,
			C700020111      as DealerCorp,
			C700020113      as DealerDep,
			C700020007      as groupname,
			C700020015      as StDate,
			C700020016      as BgDate,
			C700020011      as ProcessStatus,
			C700020076      as ProcessAcceptOutTime,
			C700020076      as ProcessDealOutTime,
			C700000008      as BaseFinishDate,
			C700000022      as BaseTplID
		from {WF:App_Base_Infor} base,{WF:App_AuditingProcess} ap 
		where
			base.C700000000 = ap.C700020001
			and base.C700000001 = ap.C700020002
			and ap.C700020020 = '1'

		$waitdealuser$
		and (C700020019 = '3' or C700020019 = '4'or C700020019 = '5')
		$sch_assginee$
		$sch_basepara$
		) result 
		$extend$ 
		  ]]> 
		</select>

 

		<customwhere>
			<parameterMap prepend="AND" name="waitdealuser">
				<parameterMap prepend="" name="waitdealuser">
					<mapingFiled  prepend="AND" fieldName="type"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700020016 is null
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="baseid"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000000 like '%#baseid#'
							 ]]>  			
						</mapsql>
					</mapingFiled>	
					
					<mapingFiled  prepend="AND" fieldName="BaseSN"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000003 = '#BaseSN#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
			

					<mapingFiled  prepend="AND" fieldName="BaseCreateDate_1"  fieldType="7">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000006 > '#BaseCreateDate_1#' 
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="BaseCreateDate_2"  fieldType="7">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000006 < '#BaseCreateDate_2#' 
							 ]]>  			
						</mapsql>
					</mapingFiled>
	
					<mapingFiled  prepend="AND" fieldName="BaseStatus"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000010 = '#BaseStatus#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
								
					<mapingFiled  prepend="AND" fieldName="BaseSummary"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000011 like '%#BaseSummary#%'
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="AssigneeDep"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000103 like '%#AssigneeDep#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
						
					<mapingFiled  prepend="AND" fieldName="BaseCreatorFullName"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000004 like '%#BaseCreatorFullName#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
					

					<parameterMap prepend="AND" name="waitdealuser">
						<mapingFiled  prepend="OR" fieldName="AssgineeID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 C700020006 = '#AssgineeID#' or C700020048 = '#AssgineeID#'
								 ]]>  			
							</mapsql>
						</mapingFiled>
						<mapingFiled  prepend="OR" fieldName="GroupID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 ';#GroupID#' like '%;' || C700020008 || ';%'
								 ]]>  			
							</mapsql>
						</mapingFiled>
						<mapingFiled  prepend="OR" fieldName="CloseBaseSamenessGroupID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 ';#CloseBaseSamenessGroupID#' like '%;' || C700020051 || ';%'
								 ]]>  			
							</mapsql>
						</mapingFiled>
						<mapingFiled  prepend="OR" fieldName="RoleID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 ';#RoleID#' like '%;' || C700020008 || ';%'
								 ]]>  			
							</mapsql>
						</mapingFiled>
					</parameterMap>
				</parameterMap>
				
				<parameterMap prepend="OR" name="waitdealuser_asg">
					<mapingFiled  prepend="AND" fieldName="type"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700020016 > '0'
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="baseid"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000000 like '%#baseid#'
							 ]]>  			
						</mapsql>
					</mapingFiled>	
				
					<mapingFiled  prepend="AND" fieldName="BaseSN"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000003 = '#BaseSN#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
			

					<mapingFiled  prepend="AND" fieldName="BaseCreateDate_1"  fieldType="7">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000006 > '#BaseCreateDate_1#' 
							 ]]>  			
						</mapsql>
					</mapingFiled>
	
					<mapingFiled  prepend="AND" fieldName="BaseCreateDate_2"  fieldType="7">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000006 < '#BaseCreateDate_2#' 
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<mapingFiled  prepend="AND" fieldName="BaseStatus"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000010 = '#BaseStatus#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
									
					<mapingFiled  prepend="AND" fieldName="BaseSummary"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000011 like '%#BaseSummary#%'
							 ]]>  			
						</mapsql>
					</mapingFiled>
					
					<mapingFiled  prepend="AND" fieldName="AssigneeDep"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000103 like '%#AssigneeDep#'
							 ]]>  			
						</mapsql>
					</mapingFiled>
						
					<mapingFiled  prepend="AND" fieldName="BaseCreatorFullName"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								 C700000004 like '%#BaseCreatorFullName#'
							 ]]>  			
						</mapsql>
					</mapingFiled>

					<parameterMap prepend="AND" name="waitdealuser">
						<mapingFiled  prepend="OR" fieldName="AssgineeID"  fieldType="4">
							<mapsql value="isnotnull">
								<![CDATA[
									 C700020010 = '#AssgineeID#'
								 ]]>  			
							</mapsql>
						</mapingFiled>
						<parameterMap prepend="OR" name="waitdealuser">
							<mapingFiled  prepend="AND" fieldName="GroupID"  fieldType="4">
								<mapsql value="isnotnull">
									<![CDATA[
										 C700020049 = '0'
									 ]]>  			
								</mapsql>
							</mapingFiled>
							<mapingFiled  prepend="AND" fieldName="GroupID"  fieldType="4">
								<mapsql value="isnotnull">
									<![CDATA[
										 ';#GroupID#' like '%;' || C700020008 || ';%'
									 ]]>  			
								</mapsql>
							</mapingFiled>
							<mapingFiled  prepend="OR" fieldName="RoleID"  fieldType="4">
								<mapsql value="isnotnull">
									<![CDATA[
										 ';#RoleID#' like '%;' || C700020008 || ';%'
									 ]]>  			
								</mapsql>
							</mapingFiled>
						</parameterMap>
					</parameterMap>
				</parameterMap>
			</parameterMap>
			<parameterMap prepend="AND" name="sch_assginee">
				<mapingFiled  prepend="AND" fieldName="Assginee"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700020005 like '%#Assginee#%'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="groupname"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700020007 like '%#groupname#%'
						 ]]>  			
					</mapsql>
				</mapingFiled>
			</parameterMap>
			<parameterMap prepend="AND" name="sch_basepara">
				<mapingFiled  prepend="AND" fieldName="baseschema"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000001 = '#baseschema#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="baseclass"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000043 = '#baseclass#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
			</parameterMap>
			<parameterMap prepend="EXTEND" name="extend">
					<mapingFiled  prepend="EXTEND" fieldName="orderby"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								   order by #orderby#
							 ]]>
						</mapsql>
					</mapingFiled>
			</parameterMap>
		</customwhere>
		<sqlother>
			<sqlpagination isavailability="true">
				<sqlpageSize>20</sqlpageSize>
			</sqlpagination>
			<sqldistinct isavailability="false">排重的列1,排重的列2</sqldistinct>
			<sqlSortFields isavailability="false">排序的列1,排序的列2</sqlSortFields>
		</sqlother>
		<PageQueryField>

		<field name="c1">
				<fieldID>700000000</fieldID>
				<fieldEnglishname>baseid</fieldEnglishname>
				<fieldChinesename>工单号</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>
			<field name="BaseSN">
				<fieldID>700000003</fieldID>
				<fieldEnglishname>BaseSN</fieldEnglishname>
				<fieldChinesename>工单流水号</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>
			<field name="BaseCreateDate">
				<fieldID>700000006</fieldID>
				<fieldEnglishname>BaseCreateDate</fieldEnglishname>
				<fieldChinesename>建单时间</fieldChinesename>
				<fieldType>7</fieldType>
				<fieldDisplaytype>7</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>
			<field name="BaseSummary">
				<fieldID>700000011</fieldID>
				<fieldEnglishname>BaseSummary</fieldEnglishname>
				<fieldChinesename>工单主题</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>			
			<field name="BaseStatus">
				<fieldID>700000010</fieldID>
				<fieldEnglishname>BaseStatus</fieldEnglishname>
				<fieldChinesename>工单状态</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>	
			
			<field name="BaseCreatorDep">
				<fieldID>700000103</fieldID>
				<fieldEnglishname>AssigneeDep</fieldEnglishname>
				<fieldChinesename>建单人部门</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>	
			
			<field name="BaseCreatorFullName">
				<fieldID>700000004</fieldID>
				<fieldEnglishname>BaseCreatorFullName</fieldEnglishname>
				<fieldChinesename>建单人</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>

		</PageQueryField>
	</sqlquery>
<!--2012年5月7日添加结束-->
</sql-group>
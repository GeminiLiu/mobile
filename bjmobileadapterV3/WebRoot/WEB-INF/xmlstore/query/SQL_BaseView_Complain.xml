<?xml version="1.0" encoding="UTF-8"?>
<sql-group>
	<doc>
		<author>lihaoyuan</author> 
		<date>2008年10月23日</date> 
		<description>工单查询</description> 		
	</doc>
	<sqlquery name="query.BaseView.Complain">
		<select>
		<![CDATA[ 
		select 
			/*COUNT*/
			*
			/*COUNT*/
			 from(
		select 
			base.C1 as baseid,
			C700000001      as baseschema,
			C700000002      as basename,
			C700000003      as basesn,
			C700000018      as BaseDealOutTime,
			C700000011      as BaseSummary,
			C700000004      as BaseCreatorFullName,
			C700000006      as BaseCreateDate,
			C700000009      as BaseCloseDate,
			C700000010      as BaseStatus,
			C700000008      as BaseFinishDate
		from {WF:EL_TTM_CCH} base
		where
		$basepara$
		) result 
		$extend$
		  ]]> 
		</select>
		<customwhere>
			<parameterMap prepend="" name="basepara">
								<mapingFiled  prepend="AND" fieldName="baseschema"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000001 = '#baseschema#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="baseclass"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000043 = '#baseclass#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				
				<mapingFiled  prepend="AND" fieldName="BaseID"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C1 like '%#BaseID#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="basesn"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000003 = '#basesn#'
						 ]]>  			
					</mapsql>
				</mapingFiled>		
				<mapingFiled  prepend="AND" fieldName="CCH_serialNo"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C800080002 like '%#CCH_serialNo#'
						 ]]>  			
					</mapsql>
				</mapingFiled>

				<mapingFiled  prepend="AND" fieldName="BaseCreatorFullName"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000004 like '%#BaseCreatorFullName#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
								
				<mapingFiled  prepend="AND" fieldName="BaseStatus"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000010 like '#BaseStatus#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="BaseSummary"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000011 like '%#BaseSummary#%'
						 ]]>  			
					</mapsql>
				</mapingFiled>

				<mapingFiled  prepend="AND" fieldName="BaseCreateDate_1"  fieldType="7">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000006 > '#BaseCreateDate_1#' 
						 ]]>  			
					</mapsql>
				</mapingFiled>

				<mapingFiled  prepend="AND" fieldName="BaseCreateDate_2"  fieldType="7">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000006 < '#BaseCreateDate_2#' 
						 ]]>  			
					</mapsql>
				</mapingFiled>
				
				<mapingFiled  prepend="AND" fieldName="ConsumerName"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C800020018 like '%#ConsumerName#%'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="ConsumerTel"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C800020019 like '%#ConsumerTel#%'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="terminalType"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C800080201 = '#terminalType#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="AcceptCtiy"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C800020004 = '#AcceptCtiy#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="ComplainType"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C800020001 like '%#ComplainType#%'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="ClientArea"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C800020008 like '%#ClientArea#%'
						 ]]>  			
					</mapsql>
				</mapingFiled>
								
			</parameterMap>
			<parameterMap prepend="EXTEND" name="extend">
					
					<mapingFiled  prepend="EXTEND" fieldName="orderby"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								   order by #orderby#
							 ]]>
						</mapsql>
					</mapingFiled>
			</parameterMap>
		</customwhere>
		<sqlother>
			<sqlpagination isavailability="true">
				<sqlpageSize>20</sqlpageSize>
			</sqlpagination>
			<sqldistinct isavailability="false">排重的列1,排重的列2</sqldistinct>
			<sqlSortFields isavailability="false">排序的列1,排序的列2</sqlSortFields>
		</sqlother>
		<PageQueryField>
			<field name="c1">
				<fieldID>1</fieldID>
				<fieldEnglishname>BaseID</fieldEnglishname>
				<fieldChinesename>工单号</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>
			<field name="basesn">
				<fieldID>700000001</fieldID>
				<fieldEnglishname>basesn</fieldEnglishname>
				<fieldChinesename>工单流水号</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>	
		
			<field name="BaseCreateDate">
				<fieldID>700000006</fieldID>
				<fieldEnglishname>BaseCreateDate</fieldEnglishname>
				<fieldChinesename>建单时间</fieldChinesename>
				<fieldType>7</fieldType>
				<fieldDisplaytype>7</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>			

			<field name="CCH_serialNo">
				<fieldID>800080002</fieldID>
				<fieldEnglishname>CCH_serialNo</fieldEnglishname>
				<fieldChinesename>CRM工单编号</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>
			
			<field name="BaseCreatorFullName">
				<fieldID>700000004</fieldID>
				<fieldEnglishname>BaseCreatorFullName</fieldEnglishname>
				<fieldChinesename>建单人</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>
					
			<field name="BaseStatus">
				<fieldID>700000010</fieldID>
				<fieldEnglishname>BaseStatus</fieldEnglishname>
				<fieldChinesename>工单状态</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>6</fieldDisplaytype>
				<fieldDisplaytypeValue>一级处理中:一级处理中;二级处理中:二级处理中;待质检:待质检;待归档:待归档;已归档:已归档;</fieldDisplaytypeValue> <!-- 冒号前面是option的值，冒号后面是显示的值 -->
				<fieldDefaultValue></fieldDefaultValue>
			</field>
			
			<field name="BaseSummary">
				<fieldID>700000011</fieldID>
				<fieldEnglishname>BaseSummary</fieldEnglishname>
				<fieldChinesename>工单主题</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>		
			
			<field name="ConsumerName">
				<fieldID>800020018</fieldID>
				<fieldEnglishname>ConsumerName</fieldEnglishname>
				<fieldChinesename>客户姓名</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>		
			<field name="ConsumerTel">
				<fieldID>800020019</fieldID>
				<fieldEnglishname>ConsumerTel</fieldEnglishname>
				<fieldChinesename>客户电话</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>		
			<field name="terminalType">
				<fieldID>800080201</fieldID>
				<fieldEnglishname>terminalType</fieldEnglishname>
				<fieldChinesename>投诉所属类别</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>6</fieldDisplaytype>
				<fieldDisplaytypeValue>0:GSM网;1:TD-SCDMA网;</fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>		
			<field name="AcceptCtiy">
				<fieldID>800020004</fieldID>
				<fieldEnglishname>AcceptCtiy</fieldEnglishname>
				<fieldChinesename>受理地市</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>6</fieldDisplaytype>
				<fieldDisplaytypeValue>银川:银川;石嘴山:石嘴山;吴忠:吴忠;中卫:中卫;固原:固原;</fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>		
			<field name="ComplainType">
				<fieldID>800020001</fieldID>
				<fieldEnglishname>ComplainType</fieldEnglishname>
				<fieldChinesename>投诉分类</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>		
			<field name="ClientArea">
				<fieldID>800020008</fieldID>
				<fieldEnglishname>ClientArea</fieldEnglishname>
				<fieldChinesename>用户归属地</fieldChinesename>
				<fieldType>4</fieldType>
				<fieldDisplaytype>4</fieldDisplaytype>
				<fieldDisplaytypeValue></fieldDisplaytypeValue>
				<fieldDefaultValue></fieldDefaultValue>
			</field>
							
		</PageQueryField>
	</sqlquery>
</sql-group>

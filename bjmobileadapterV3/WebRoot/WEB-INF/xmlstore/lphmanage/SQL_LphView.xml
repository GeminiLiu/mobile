<?xml version="1.0" encoding="UTF-8"?>
<sql-group>
	<doc>
		<author>lihaoyuan</author> 
		<date>2008年10月23日</date> 
		<description>工单查询</description> 		
	</doc>
	<sqlquery name="query.LphView.all">
		<select>
		<![CDATA[ 
		select 
			/*COUNT*/
			*
			/*COUNT*/
			 from(
		select 
			base.C1 as baseid,
			C700000001      as baseschema,
			C700000002      as basename,
			C700000003      as basesn,
			C700000011      as BaseSummary,
			C700000004      as BaseCreatorFullName,
			C700000006      as BaseCreateDate,
			C700000009      as BaseCloseDate,
			C700000010      as BaseStatus
		from {WF:EL_TTM_LPH} base
		where
		$basepara$ 
		$searchpara$
		$selectcontion$
		) result 
		$extend$
		  ]]> 
		</select>
		<customwhere>
			<parameterMap prepend="" name="basepara">
				<mapingFiled  prepend="AND" fieldName="baseschema"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000001 = '#baseschema#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="status"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000010 = '#status#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="showclose"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000009 is null
						 ]]>  			
					</mapsql>
				</mapingFiled>
			</parameterMap>
			<parameterMap prepend="AND" name="searchpara">
				<mapingFiled  prepend="AND" fieldName="BaseCreatorFullName"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C700000004 = '#BaseCreatorFullName#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
			</parameterMap>
			<parameterMap prepend="AND" name="selectcontion">
				<mapingFiled  prepend="AND" fieldName="selectcontion"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 #selectcontion#
						 ]]>  			
					</mapsql>
				</mapingFiled>
			</parameterMap>
			<parameterMap prepend="EXTEND" name="extend">
					<mapingFiled  prepend="EXTEND" fieldName="orderby"  fieldType="4">
						<mapsql value="isnotnull">
							<![CDATA[
								   order by #orderby#
							 ]]>
						</mapsql>
					</mapingFiled>
			</parameterMap>
		</customwhere>
		<sqlother>
			<sqlpagination isavailability="true">
				<sqlpageSize>20</sqlpageSize>
			</sqlpagination>
			<sqldistinct isavailability="false">排重的列1,排重的列2</sqldistinct>
			<sqlSortFields isavailability="false">排序的列1,排序的列2</sqlSortFields>
		</sqlother>
		<PageQueryField>
			<field name="basesn">
				<fieldID>700000004</fieldID><!--查询字段ID-->
				<fieldEnglishname>BaseCreatorFullName</fieldEnglishname><!--查询字段英文名，该英文名会做为我们查询条件-->
				<fieldChinesename>建单人</fieldChinesename><!--查询字段用于在界面显示的名称-->
				<fieldType>4</fieldType><!--查询字段的数据类型(4：字符等，与Remedy类型保持一致)-->
				<fieldDisplaytype>4</fieldDisplaytype><!--查询字段用于在界面显示的类型(4：字符/TEXT等，与Remedy类型保持一致)-->
				<fieldDisplaytypeValue></fieldDisplaytypeValue><!--查询字段用于在界面显示的值的范围(只有当是Select时有值：格式为"值+冒号+显示值+分号，"如：0:是;1:否;';)-->
				<fieldDefaultValue></fieldDefaultValue><!--查询字段用于在界面显示时的默认值-->
			</field>
		</PageQueryField>
	</sqlquery>
</sql-group>

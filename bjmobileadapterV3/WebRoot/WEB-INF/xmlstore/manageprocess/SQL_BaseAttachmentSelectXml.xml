<?xml version="1.0" encoding="UTF-8"?>
<sql-group>
	<doc>
		<author>黄维</author> 
		<date>2008-10-12</date> 
		<description>对附件的查询</description> 		
	</doc>
	<sqlquery name="BaseAttachment.BaseOn_OneProcessSelect">
		<select>
		<![CDATA[ 
   			  select 
   			  /*COUNT*/
				C1			as	attachmentID,
				C650000001	as	BaseID,
				C650000002	as	BaseSchema,
				C650000003	as	PhaseNo,
				C650000004	as	FlagActive,
				C650000005	as	upLoadUser,
				C650000006	as	upLoadUserID,
				C650000007	as	upLoadTimeDate,
				C650000008	as	upLoadFileName,
				C650000009	as	upLoadFileDesc,
				C650000011	as	ProcessID,
				C650000012	as	ProcessType,
				C650000013	as	ProcessLogID,
				C650000014	as	ViewAttAchID
			/*COUNT*/
              from {WF:App_Base_Attachment} BaseAttachment
			  where $BaseOn_OneProcessSelect$
		  ]]> 
		</select>
		<customwhere>
			<parameterMap prepend="" name="BaseOn_OneProcessSelect">
				<mapingFiled  prepend="" fieldName="is_notnull"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 1=#is_notnull#
						 ]]>  			
					</mapsql>
				</mapingFiled>				
				<mapingFiled  prepend="AND" fieldName="baseschema"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C650000002 = '#baseschema#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="baseid"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C650000001 = '#baseid#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="processid"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C650000011 = '#processid#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="processtype"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C650000012 = '#processtype#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="attachmentid"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C1 = '#attachmentid#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="viewAttAchid"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C650000014 = '#viewAttAchid#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="DelUserID"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 C800080102 is null
						 ]]>  			
					</mapsql>
				</mapingFiled>
			</parameterMap>		
		</customwhere>
	</sqlquery>
	
</sql-group>

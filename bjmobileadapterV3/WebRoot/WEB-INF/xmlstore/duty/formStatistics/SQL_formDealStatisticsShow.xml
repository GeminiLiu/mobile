<?xml version="1.0" encoding="UTF-8"?>
<sql-group>
	<doc>
		<author>lihongbo</author> 
		<date>2010-08-18</date> 
		<description>工单处理情况显示</description> 		
	</doc>
	<sqlquery name="SQL_formDealStatisticsShow_incident" dbpoolname="">
		<select>
		<![CDATA[
		
		select rs6.names as formname,
		       nvl(rs1.waitdeal, 0) as waitdeal,
		       nvl(rs2.firstdeal, 0) as firstdeal,
		       nvl(rs5.underdeal, 0) as underdeal,
		       nvl(rs8.secunder, 0) as secunder,
		       nvl(rs3.urge, 0) as urge1,
		       nvl(rs7.urge, 0) as urge2,
		       nvl(rs4.closed, 0) as closed
		  from (select t.c700000001 as names, count(distinct t.c1) as waitdeal
          from {#basename#} t, {WF:App_DealProcess} d
         where t.c1 = d.c700020001
           and t.c700000001 = d.c700020002
           #con_group#
           and d.c700020020 = 1
           $con_time$
           #createtime#
         group by t.c700000001) rs1,
		       ( 
		        select distinct t.c700000001 as names,
		        count(distinct t.c1) as firstdeal
           from {#basename#} t,{WF:App_DealProcess} d
          where t.c1 = d.c700020001
            and t.c700000001 = d.c700020002
            and d.c700020003 = 'dp_2'
            and d.c700020020 = 1
            and d.c700020016 > 0
            #con_groups#
            $con_time$
            #createtime#
            group by t.c700000001 ) rs2,  
		       (select t.c700000001 as names, count(distinct t.c1) as urge
		          from {#basename#} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               #con_group#
               and d.c700020020 = 1
               #con_statuss#
	           and (t.c700000018-#currenttimes#)<3600
	           and (t.c700000018-#currenttimes#)>0
	           $con_time$
	           #createtime#
		       group by t.c700000001) rs3,
		       
		       (select t.c700000001 as names, count(t.c1) as closed
              from {#basename#} t, {WF:App_DealProcess} d
             where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               #dealprocess#
               and d.c700020020 = 1
               #con_group#
               $con_time$
	           #createtime#
             group by t.c700000001) rs4,
		        (select distinct t.c700000001 as names, 
				count(distinct t.c1)  as underdeal
           from {#basename#} t,{WF:App_DealProcess} d
          where t.c1 = d.c700020001
            and t.c700000001 = d.c700020002
            and d.c700020003 = 'dp_2'
            and d.c700020020 = 1
            and d.c700020072 = 0
            #con_group#
            $con_time$
            #createtime#
             group by t.c700000001) rs5,
             (select t.c700000001 as names, count(distinct t.c1) as urge
		          from {#basename#} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               #con_group#
               and d.c700020020 = 1
               #con_statuss#
	           and (t.c700000018-#currenttimes#)<7200
	           and (t.c700000018-#currenttimes#)>3600
	           $con_time$
	           #createtime#
		       group by t.c700000001) rs7,
		    (select distinct t.c700000001 as names, 
			  count(distinct t.c1)  as secunder
	           from {#basename#} t,{WF:App_DealProcess} d
	          where t.c1 = d.c700020001
	            and t.c700000001 = d.c700020002
	            #con_second#
	            and d.c700020020 = 1
	            and d.c700020072 = 0
	            and d.c700020014 >0
	            and (d.c700020014-#currenttimes#)<14400
	            #con_group#
	            $con_time$
	            #createtime#
	             group by t.c700000001) rs8,
		       (select '#basename#' as names from dual) rs6
		 where rs1.names(+) = rs6.names
		   and rs2.names(+) = rs6.names
		   and rs3.names(+) = rs6.names
		   and rs4.names(+) = rs6.names
		   and rs5.names(+) = rs6.names
		   and rs7.names(+) = rs6.names
		   and rs8.names(+) = rs6.names
		  ]]>
		</select>
		<customwhere>
			<parameterMap prepend="AND" name="con_time">
				<mapingFiled prepend="AND" fieldName="timeStart" fieldType="7">
					<mapsql value="isnotnull">
						<![CDATA[
							t.c700000006 >= #timeStart#
						 ]]>
					</mapsql>
				</mapingFiled>
				<mapingFiled prepend="AND" fieldName="timeEnd" fieldType="7">
					<mapsql value="isnotnull">
						<![CDATA[
							t.c700000006 <= #timeEnd#
						 ]]>
					</mapsql>
				</mapingFiled>
			</parameterMap>
		</customwhere>
		
	</sqlquery>
	<sqlquery name="SQL_formDealStatisticsShow_netcomplain" dbpoolname="">
		<select>
		<![CDATA[
		
		select rs6.names as formname,
		       nvl(rs1.waitdeal, 0) as waitdeal,
		       nvl(rs2.firstdeal, 0) as firstdeal,
		       nvl(rs5.underdeal, 0) as underdeal,
		       '—' as secunder,
		       nvl(rs3.urge, 0) as urge1,
		       nvl(rs7.urge, 0) as urge2,
		       nvl(rs4.closed, 0) as closed
		  from (select t.c700000001 as names, count(distinct t.c1) as waitdeal
          from {#basename#} t, {WF:App_DealProcess} d
         where t.c1 = d.c700020001
           and t.c700000001 = d.c700020002
           #con_group#
           and d.c700020020 = 1
           $con_time$
           #createtime#
         group by t.c700000001) rs1,
		       
		        (
		        select distinct t.c700000001 as names, 
		        count(distinct t.c1) as  firstdeal
            from {#basename#} t, {WF:App_DealProcess} d,{WF:App_DealProcess} dp
         where t.c1 = d.c700020001
           and t.c700000001 = d.c700020002
           and dp.c700020004 = 'BEGIN'
           and dp.c700020003 = d.c700020004
           and d.c700020020 = 1
           and d.c700020016 > 0
            #con_groups#
            $con_time$
            #createtime#
           group by t.c700000001) rs2, 
		       
		       (select t.c700000001 as names, count(distinct t.c1) as urge
		          from {#basename#} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               #con_group#
               and d.c700020020 = 1
               and (t.c700000010 <> '草稿' and t.c700000010 <> '已完成' and t.c700000010 <> '已归档')
	           and (t.c700000018-#currenttimes#)<3600
	           and (t.c700000018-#currenttimes#)>0
	           $con_time$
               #createtime#
		         group by t.c700000001) rs3,
		       
		       (select t.c700000001 as names, count(t.c1) as closed
              from {#basename#} t, {WF:App_DealProcess} d
             where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               and d.c700020004 = 'BEGIN'
               and d.c700020020 =1
               and t.c700000010 = '已完成'
               #con_group#
               $con_time$
               #createtime#
             group by t.c700000001) rs4,
		        (select distinct t.c700000001 as names, 
				count(distinct t.c1) as underdeal
           from {#basename#} t,{WF:App_DealProcess} d,{WF:App_DealProcess} dp
          where t.c1 = d.c700020001
            and t.c700000001 = d.c700020002
            and d.c700020020 = 1
            and d.c700020072 = 0
            and dp.c700020004 = 'BEGIN'
           	and dp.c700020003 = d.c700020004
            #con_group#
            $con_time$
            #createtime#
             group by t.c700000001) rs5,
             (select t.c700000001 as names, count(distinct t.c1) as urge
		          from {#basename#} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               #con_group#
               and d.c700020020 = 1
               and (t.c700000010 <> '草稿' and t.c700000010 <> '已完成' and t.c700000010 <> '已归档')
	           and (t.c700000018-#currenttimes#)<7200
	           and (t.c700000018-#currenttimes#)>3600
	           $con_time$
               #createtime#
		         group by t.c700000001) rs7,
		       (select '#basename#' as names from dual) rs6
		 where rs1.names(+) = rs6.names
		   and rs2.names(+) = rs6.names
		   and rs3.names(+) = rs6.names
		   and rs4.names(+) = rs6.names
		   and rs5.names(+) = rs6.names
		   and rs7.names(+) = rs6.names
       
		  ]]>
		</select>
		<customwhere>
			<parameterMap prepend="AND" name="con_time">
				<mapingFiled prepend="AND" fieldName="timeStart" fieldType="7">
					<mapsql value="isnotnull">
						<![CDATA[
							t.c700000006 >= #timeStart#
						 ]]>
					</mapsql>
				</mapingFiled>
				<mapingFiled prepend="AND" fieldName="timeEnd" fieldType="7">
					<mapsql value="isnotnull">
						<![CDATA[
							t.c700000006 <= #timeEnd#
						 ]]>
					</mapsql>
				</mapingFiled>
			</parameterMap>
		</customwhere>
		
	</sqlquery>
	<sqlquery name="SQL_formDealStatisticsShow_all" dbpoolname="">
		<select>
		<![CDATA[
		
		select rs6.names as formname,
		       rs6.titles as titles,
		       nvl(rs1.waitdeal, 0) as waitdeal,
		       nvl(rs2.firstdeal, 0) as firstdeal,
		       nvl(rs5.underdeal, 0) as underdeal,
		       '-' as secunder,
		       nvl(rs3.urge, 0) as urge1,
		       nvl(rs7.urge, 0) as urge2,
		       nvl(rs4.closed, 0) as closed
		  from (select t.c700000001 as names, count(distinct t.c1) as waitdeal
          from {WF:EL_UVS_TSK_NX} t, {WF:App_DealProcess} d
         where t.c1 = d.c700020001
           and t.c700000001 = d.c700020002
           #nx_group#
           and d.c700020020 = 1
           $con_time$
           #createtime#
         group by t.c700000001) rs1,
		       
		       (
		       
		        select distinct t.c700000001 as names, 
		              count(distinct t.c1) as firstdeal
          from {WF:EL_UVS_TSK_NX} t, {WF:App_DealProcess} d,{WF:App_DealProcess} dp
         where t.c1 = d.c700020001
           and t.c700000001 = d.c700020002
           and dp.c700020004 = 'BEGIN'
           and dp.c700020003 = d.c700020004
           and d.c700020020 = 1
           and d.c700020016 > 0
           #nx_groups#
           $con_time$
           #createtime#
            group by t.c700000001) rs2,
		       
		       (select t.c700000001 as names, count(distinct t.c1) as urge
		          from {WF:EL_UVS_TSK_NX} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               #nx_group#
               and d.c700020020 = 1
               and (t.c700000010 <> '草稿' and t.c700000010 <> '已完成' and t.c700000010 <> '已归档')
	           and (t.c700000018-#currenttimes#)<3600
	           and (t.c700000018-#currenttimes#)>0
	           $con_time$
               #createtime#
		         group by t.c700000001) rs3,
		       
		       (select t.c700000001 as names, count(t.c1) as closed
              from {WF:EL_UVS_TSK_NX} t, {WF:App_DealProcess} d
             where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               and d.c700020004 = 'BEGIN'
               and d.c700020020 =1
               and t.c700000010 = '已完成'
               #nx_group#
               $con_time$
               #createtime#
             group by t.c700000001) rs4,
		       (select distinct t.c700000001 as names, 
				count(distinct t.c1) as underdeal
           from {WF:EL_UVS_TSK_NX} t,{WF:App_DealProcess} d,{WF:App_DealProcess} dp
          where t.c1 = d.c700020001
            and t.c700000001 = d.c700020002
           and dp.c700020004 = 'BEGIN'
           and dp.c700020003 = d.c700020004
            and d.c700020020 = 1
            and d.c700020072 = 0
            #nx_group#
            $con_time$
            #createtime#
             group by t.c700000001) rs5,
             (select t.c700000001 as names, count(distinct t.c1) as urge
		          from {WF:EL_UVS_TSK_NX} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               #nx_group#
               and d.c700020020 = 1
               and (t.c700000010 <> '草稿' and t.c700000010 <> '已完成' and t.c700000010 <> '已归档')
	           and (t.c700000018-#currenttimes#)<7200
	           and (t.c700000018-#currenttimes#)>3600
	           $con_time$
               #createtime#
		         group by t.c700000001) rs7,
		       (select 'WF:EL_UVS_TSK_NX' as names,'集团工单' as titles from dual) rs6
		 where rs1.names(+) = rs6.names
		   and rs2.names(+) = rs6.names
		   and rs3.names(+) = rs6.names
		   and rs4.names(+) = rs6.names
		   and rs5.names(+) = rs6.names
		   and rs7.names(+) = rs6.names
			
		   union all
		   
		   select rs6.names as formname,
		          rs6.titles as titles,
		       nvl(rs1.waitdeal, 0) as waitdeal,
		       nvl(rs2.firstdeal, 0) as firstdeal,
		       nvl(rs5.underdeal, 0) as underdeal,
		       to_char(nvl(rs8.secunder, 0)) as secunder,
		       nvl(rs3.urge, 0) as urge1,
		       nvl(rs7.urge, 0) as urge2,
		       nvl(rs4.closed, 0) as closed
		  from (select t.c700000001 as names, count(distinct t.c1) as waitdeal
          from {WF:EL_TTM_TTH} t, {WF:App_DealProcess} d
         where t.c1 = d.c700020001
           and t.c700000001 = d.c700020002
           #tth_group#
           and d.c700020020 = 1
           $con_time$
           #createtime#
         group by t.c700000001) rs1,
		       ( 
		        select distinct t.c700000001 as names, 
		       			count(distinct t.c1) as firstdeal
           from {WF:EL_TTM_TTH} t,{WF:App_DealProcess} d
          where t.c1 = d.c700020001
            and t.c700000001 = d.c700020002
            and d.c700020003 = 'dp_2'
            and d.c700020020 = 1
			and d.c700020016 > 0
            #tth_groups#
            $con_time$
            #createtime#
            group by t.c700000001) rs2, 
		       (select t.c700000001 as names, count(distinct t.c1) as urge
		          from {WF:EL_TTM_TTH} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               #tth_group#
               and d.c700020020 = 1
               and (t.c700000010<>'草稿' and t.c700000010<>'处理完成待归档' and t.c700000010<>'已归档')
	           and (t.c700000018-#currenttimes#)<3600
	           and (t.c700000018-#currenttimes#)>0
	           $con_time$
	           #createtime#
		       group by t.c700000001) rs3,
		       
		       (select t.c700000001 as names, count(t.c1) as closed
              from {WF:EL_TTM_TTH} t, {WF:App_DealProcess} d
             where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               and d.c700020003 = 'dp_7'
               and d.c700020020 = 1
               #tth_group#
               $con_time$
	           #createtime#
             group by t.c700000001) rs4,
		       (select distinct t.c700000001 as names, 
				count(distinct t.c1) as underdeal
           from {WF:EL_TTM_TTH} t,{WF:App_DealProcess} d
          where t.c1 = d.c700020001
            and t.c700000001 = d.c700020002
            and d.c700020003 = 'dp_2'
            and d.c700020020 = 1
            and d.c700020072 = 0
            #tth_group#
            $con_time$
            #createtime#
             group by t.c700000001) rs5,
             (select t.c700000001 as names, count(distinct t.c1) as urge
		          from {WF:EL_TTM_TTH} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               #tth_group#
               and d.c700020020 = 1
               and (t.c700000010<>'草稿' and t.c700000010<>'处理完成待归档' and t.c700000010<>'已归档')
	           and (t.c700000018-#currenttimes#)<7200
	           and (t.c700000018-#currenttimes#)>3600
	           $con_time$
	           #createtime#
		       group by t.c700000001) rs7,
		       (select distinct t.c700000001 as names, 
			  count(distinct t.c1)  as secunder
	           from {WF:EL_TTM_TTH} t,{WF:App_DealProcess} d
	          where t.c1 = d.c700020001
	            and t.c700000001 = d.c700020002
	            and d.c700020003 = 'dp_4'
	            and d.c700020020 = 1
	            and d.c700020072 = 0
	            and d.c700020014 >0
	            and (d.c700020014-#currenttimes#)<14400
	            #tth_group#
                $con_time$
                #createtime#
	             group by t.c700000001) rs8,
		       (select 'WF:EL_TTM_TTH' as names,'故障工单' as titles from dual) rs6
		 where rs1.names(+) = rs6.names
		   and rs2.names(+) = rs6.names
		   and rs3.names(+) = rs6.names
		   and rs4.names(+) = rs6.names
		   and rs5.names(+) = rs6.names
		   and rs7.names(+) = rs6.names
		   and rs8.names(+) = rs6.names
		   union all
		   
		   	   select rs6.names as formname,
		          rs6.titles as titles,
		       nvl(rs1.waitdeal, 0) as waitdeal,
		       nvl(rs2.firstdeal, 0) as firstdeal,
		       nvl(rs5.underdeal, 0) as underdeal,
		       to_char(nvl(rs8.secunder, 0)) as secunder,
		       nvl(rs3.urge, 0) as urge1,
		       nvl(rs7.urge, 0) as urge2,
		       nvl(rs4.closed, 0) as closed
		  from (select t.c700000001 as names, count(distinct t.c1) as waitdeal
          from {WF:EL_TTM_CCH} t, {WF:App_DealProcess} d
         where t.c1 = d.c700020001
           and t.c700000001 = d.c700020002
           #cch_group#
           and d.c700020020 = 1
           $con_time$
           #createtime#
         group by t.c700000001) rs1,
		       (
		        select distinct t.c700000001 as names, count(distinct t.c1) as firstdeal
           from {WF:EL_TTM_CCH} t,{WF:App_DealProcess} d
          where t.c1 = d.c700020001
            and t.c700000001 = d.c700020002
            and d.c700020003 = 'dp_2'
            and d.c700020020 = 1
            and d.c700020016 > 0
            #cch_groups#
            $con_time$
            #createtime#
           group by t.c700000001 ) rs2, 
		       (select t.c700000001 as names, count(distinct t.c1) as urge
		          from {WF:EL_TTM_CCH} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               #cch_group#
               and d.c700020020 = 1
               and (t.c700000010<>'草稿' and t.c700000010<>'待归档' and t.c700000010<>'已归档')
	           and (t.c700000018-#currenttimes#)<3600
	           and (t.c700000018-#currenttimes#)>0
	           $con_time$
	           #createtime#
		       group by t.c700000001) rs3,
		       
		       (select t.c700000001 as names, count(t.c1) as closed
              from {WF:EL_TTM_CCH} t, {WF:App_DealProcess} d
             where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               and d.c700020003 = 'dp_10'
               and d.c700020020 = 1
               #cch_group#
               $con_time$
	           #createtime#
             group by t.c700000001) rs4,
		       (select distinct t.c700000001 as names, 
				count(distinct t.c1) as underdeal
           from {WF:EL_TTM_CCH} t,{WF:App_DealProcess} d
          where t.c1 = d.c700020001
            and t.c700000001 = d.c700020002
            and d.c700020003 = 'dp_2'
            and d.c700020020 = 1
            and d.c700020072 = 0
            #cch_group#
            $con_time$
            #createtime#
             group by t.c700000001) rs5,
             (select t.c700000001 as names, count(distinct t.c1) as urge
		          from {WF:EL_TTM_CCH} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               #cch_group#
               and d.c700020020 = 1
               and (t.c700000010<>'草稿' and t.c700000010<>'待归档' and t.c700000010<>'已归档')
	           and (t.c700000018-#currenttimes#)<7200
	           and (t.c700000018-#currenttimes#)>3600
	           $con_time$
	           #createtime#
		       group by t.c700000001) rs7,
		       (select distinct t.c700000001 as names, 
			  count(distinct t.c1)  as secunder
	           from {WF:EL_TTM_CCH} t,{WF:App_DealProcess} d
	          where t.c1 = d.c700020001
	            and t.c700000001 = d.c700020002
	            and d.c700020003 = 'dp_5'
	            and d.c700020020 = 1
	            and d.c700020072 = 0
	            and d.c700020014 >0
	            and (d.c700020014-#currenttimes#)<14400
	            #cch_group#
                $con_time$
                #createtime#
	             group by t.c700000001) rs8,
		       (select 'WF:EL_TTM_CCH' as names,'投诉工单' as titles from dual) rs6
		 where rs1.names(+) = rs6.names
		   and rs2.names(+) = rs6.names
		   and rs3.names(+) = rs6.names
		   and rs4.names(+) = rs6.names
		   and rs5.names(+) = rs6.names
		   and rs7.names(+) = rs6.names
		   and rs8.names(+) = rs6.names
          union all
          
          select rs6.names as formname,
		       rs6.titles as titles,
		       nvl(rs1.waitdeal, 0) as waitdeal,
		       nvl(rs2.firstdeal, 0) as firstdeal,
		       nvl(rs5.underdeal, 0) as underdeal,
		       '-' as secunder,
		       nvl(rs3.urge, 0) as urge1,
		       nvl(rs7.urge, 0) as urge2,
		       nvl(rs4.closed, 0) as closed
		  from (select t.c700000001 as names, count(distinct t.c1) as waitdeal
          from {WF:EL_LCT_Math} t, {WF:App_DealProcess} d
         where t.c1 = d.c700020001
           and t.c700000001 = d.c700020002
           #math_group#
           and d.c700020020 = 1
           $con_time$
           #createtime#
         group by t.c700000001) rs1,
		       
		       ( 
		        select distinct t.c700000001 as names, count(distinct t.c1) as firstdeal
          from {WF:EL_LCT_Math} t, {WF:App_DealProcess} d,{WF:App_DealProcess} dp
         where t.c1 = d.c700020001
           and t.c700000001 = d.c700020002
           and dp.c700020004 = 'BEGIN'
           and dp.c700020003 = d.c700020004
           and d.c700020020 = 1
           and d.c700020016 > 0
           #math_groups#
           $con_time$
           #createtime#
           group by t.c700000001 ) rs2,
		       
		       (select t.c700000001 as names, count(distinct t.c1) as urge
		          from {WF:EL_LCT_Math} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               #math_group#
               and d.c700020020 = 1
               and (t.c700000010 <> '草稿' and t.c700000010 <> '已完成' and t.c700000010 <> '已归档')
	           and (t.c700000018-#currenttimes#)<3600
	           and (t.c700000018-#currenttimes#)>0
	           $con_time$
               #createtime#
		         group by t.c700000001) rs3,
		       
		       (select t.c700000001 as names, count(t.c1) as closed
              from {WF:EL_LCT_Math} t, {WF:App_DealProcess} d
             where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               and d.c700020004 = 'BEGIN'
               and d.c700020020 =1               
               and t.c700000010 = '已完成'
               #math_group#
               $con_time$
               #createtime#
             group by t.c700000001) rs4,
		       (select distinct t.c700000001 as names, 
				count(distinct t.c1) as underdeal
           from {WF:EL_LCT_Math} t,{WF:App_DealProcess} d,{WF:App_DealProcess} dp
          where t.c1 = d.c700020001
            and t.c700000001 = d.c700020002
            and dp.c700020004 = 'BEGIN'
           	and dp.c700020003 = d.c700020004
            and d.c700020020 = 1
            and d.c700020072 = 0
            #math_group#
            $con_time$
            #createtime#
             group by t.c700000001) rs5,
             (select t.c700000001 as names, count(distinct t.c1) as urge
		          from {WF:EL_LCT_Math} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
               and t.c700000001 = d.c700020002
               #math_group#
               and d.c700020020 = 1
               and (t.c700000010 <> '草稿' and t.c700000010 <> '已完成' and t.c700000010 <> '已归档')
	           and (t.c700000018-#currenttimes#)<7200
	           and (t.c700000018-#currenttimes#)>3600
	           $con_time$
               #createtime#
		         group by t.c700000001) rs7,
		       (select 'WF:EL_LCT_Math' as names,'网络工程工单' as titles from dual) rs6
		 where rs1.names(+) = rs6.names
		   and rs2.names(+) = rs6.names
		   and rs3.names(+) = rs6.names
		   and rs4.names(+) = rs6.names
           and rs5.names(+) = rs6.names
           and rs7.names(+) = rs6.names
		  ]]>
		</select>
		<customwhere>
			<parameterMap prepend="AND" name="con_time">
				<mapingFiled prepend="AND" fieldName="timeStart" fieldType="7">
					<mapsql value="isnotnull">
						<![CDATA[
							t.c700000006 >= #timeStart#
						 ]]>
					</mapsql>
				</mapingFiled>
				<mapingFiled prepend="AND" fieldName="timeEnd" fieldType="7">
					<mapsql value="isnotnull">
						<![CDATA[
							t.c700000006 <= #timeEnd#
						 ]]>
					</mapsql>
				</mapingFiled>
			</parameterMap>
		</customwhere>
		<rptatribute>
			<title>
				<item>		
				    <titlecol>	
						<isshow>false</isshow>
					</titlecol>				
					<titlecol>	
						<text>工单类型</text>
					</titlecol>	
					<titlecol>
						<text>待处理</text>
					</titlecol>	
					<titlecol>
						<text>一级已受理</text>
					</titlecol>
					<titlecol>
						<text>一级未受理</text>
					</titlecol>	
					<titlecol>
						<text>二级未受理</text>
					</titlecol>			
					<titlecol>
						<text>待催办(1小时)</text>
					</titlecol>	
					<titlecol>
						<text>待催办(2小时)</text>
					</titlecol>
					<titlecol>
						<text>待归档</text>
					</titlecol>
								
				</item>
			</title>			
		</rptatribute>
	</sqlquery>
	<sqlquery name="SQL_formDealStatistics_waitdeal" dbpoolname="">
		<select>
		<![CDATA[
		
		   select
		       /*COUNT*/
		       rs.baseid,
		       rs.BaseSN,
		       rs.BaseSummary,
		       rs.BaseCreatorFullName,
		       rs.BaseCreateDate,
		       rs.BaseStatus
		       /*COUNT*/
		   from 
		  (
		   select 
			       t.c1 as baseid,
			       t.c700000003 as BaseSN,
			       t.c700000011 as BaseSummary,
			       t.c700000004 as BaseCreatorFullName,
			       to_char(to_date('19700101', 'yyyymmdd') +
						t.c700000006 / 86400 + 8 / 24,
						'yyyy-mm-dd hh24:MI:ss') as BaseCreateDate,
			       t.c700000010 as BaseStatus
	          from {#basename#} t, {WF:App_DealProcess} d
	         where t.c1 = d.c700020001
	           and t.c700000001 = d.c700020002
	           #con_groupid#
	           and d.c700020020 = 1
	           #con_time#
	           group by  t.c1,t.c700000003,t.c700000011,t.c700000004,t.c700000006,t.c700000010
	         ) rs
	         order by rs.BaseCreateDate desc
		  ]]>
		</select>
		<rptatribute>
			<title>
				<item>					
					<titlecol>	
						<isshow>false</isshow>
					</titlecol>	
					<titlecol>
						<text>工单流水号</text>
					</titlecol>	
					<titlecol>
						<text>工单主题</text>
					</titlecol>		
					<titlecol>
						<text>建单人</text>
					</titlecol>	
					<titlecol>
						<text>建单时间</text>
					</titlecol>
					<titlecol>
						<text>工单状态</text>
					</titlecol>						
				</item>
			</title>			
		</rptatribute>
	</sqlquery>
	
	<sqlquery name="SQL_formDealStatistics_firstNo_net" dbpoolname="">
		<select>
		<![CDATA[
		select
		       /*COUNT*/
		       rs.baseid,
		       rs.BaseSN,
		       rs.BaseSummary,
		       rs.BaseCreatorFullName,
		       rs.BaseCreateDate,
		       rs.BaseStatus
		       /*COUNT*/
		   from 
		  (
		   select 
			       t.c1 as baseid,
			       t.c700000003 as BaseSN,
			       t.c700000011 as BaseSummary,
			       t.c700000004 as BaseCreatorFullName,
			       to_char(to_date('19700101', 'yyyymmdd') +
						t.c700000006 / 86400 + 8 / 24,
						'yyyy-mm-dd hh24:MI:ss') as BaseCreateDate,
			       t.c700000010 as BaseStatus
	          from {#basename#} t, {WF:App_DealProcess} d,{WF:App_DealProcess} dp
	         where t.c1 = d.c700020001
	           and t.c700000001 = d.c700020002
	           and dp.c700020004 = 'BEGIN'
	           and dp.c700020003 = d.c700020004
	           and d.c700020020 = 1
	           and d.c700020072=0
	           #con_groupids#
	           #con_time#
	           group by  t.c1,t.c700000003,t.c700000011,t.c700000004,t.c700000006,t.c700000010
	         ) rs
	         order by rs.BaseCreateDate desc
		  ]]>
		</select>
		<rptatribute>
			<title>
				<item>					
					<titlecol>	
						<isshow>false</isshow>
					</titlecol>	
					<titlecol>
						<text>工单流水号</text>
					</titlecol>	
					<titlecol>
						<text>工单主题</text>
					</titlecol>		
					<titlecol>
						<text>建单人</text>
					</titlecol>	
					<titlecol>
						<text>建单时间</text>
					</titlecol>
					<titlecol>
						<text>工单状态</text>
					</titlecol>						
				</item>
			</title>			
		</rptatribute>
	</sqlquery>
	<sqlquery name="SQL_formDealStatistics_firstNo_inc" dbpoolname="">
		<select>
		<![CDATA[
		select
		       /*COUNT*/
		       rs.baseid,
		       rs.BaseSN,
		       rs.BaseSummary,
		       rs.BaseCreatorFullName,
		       rs.BaseCreateDate,
		       rs.BaseStatus
		       /*COUNT*/
		   from 
		  (
			select 
			       t.c1 as baseid,
			       t.c700000003 as BaseSN,
			       t.c700000011 as BaseSummary,
			       t.c700000004 as BaseCreatorFullName,
			       to_char(to_date('19700101', 'yyyymmdd') +
						t.c700000006 / 86400 + 8 / 24,
						'yyyy-mm-dd hh24:MI:ss') as BaseCreateDate,
			       t.c700000010 as BaseStatus
		          from {#basename#} t,{WF:App_DealProcess} d
		         where t.c1 = d.c700020001
		            and t.c700000001 = d.c700020002
		            and d.c700020003 = 'dp_2'
		            and d.c700020020 = 1
		            and d.c700020072=0
		           #con_groupids#
		           #con_time#
		           group by  t.c1,t.c700000003,t.c700000011,t.c700000004,t.c700000006,t.c700000010
		           ) rs
	         order by rs.BaseCreateDate desc
		  ]]>
		</select>
		<rptatribute>
			<title>
				<item>					
					<titlecol>	
						<isshow>false</isshow>
					</titlecol>	
					<titlecol>
						<text>工单流水号</text>
					</titlecol>	
					<titlecol>
						<text>工单主题</text>
					</titlecol>		
					<titlecol>
						<text>建单人</text>
					</titlecol>	
					<titlecol>
						<text>建单时间</text>
					</titlecol>
					<titlecol>
						<text>工单状态</text>
					</titlecol>						
				</item>
			</title>			
		</rptatribute>
	</sqlquery>
	
	<sqlquery name="SQL_formDealStatistics_firstaccept_net" dbpoolname="">
		<select>
		<![CDATA[
		select
		       /*COUNT*/
		       rs.baseid,
		       rs.BaseSN,
		       rs.BaseSummary,
		       rs.BaseCreatorFullName,
		       rs.BaseCreateDate,
		       rs.BaseStatus
		       /*COUNT*/
		   from 
		  (
		   select 
			       t.c1 as baseid,
			       t.c700000003 as BaseSN,
			       t.c700000011 as BaseSummary,
			       t.c700000004 as BaseCreatorFullName,
			       to_char(to_date('19700101', 'yyyymmdd') +
						t.c700000006 / 86400 + 8 / 24,
						'yyyy-mm-dd hh24:MI:ss') as BaseCreateDate,
			       t.c700000010 as BaseStatus
	          from {#basename#} t, {WF:App_DealProcess} d,{WF:App_DealProcess} dp
	         where t.c1 = d.c700020001
	           and t.c700000001 = d.c700020002
	           and dp.c700020004 = 'BEGIN'
	           and dp.c700020003 = d.c700020004
	           and d.c700020020 = 1
	           and d.c700020016 > 0
	           #con_groupids#
	           #con_time#
	           group by  t.c1,t.c700000003,t.c700000011,t.c700000004,t.c700000006,t.c700000010
	         ) rs
	         order by rs.BaseCreateDate desc
		  ]]>
		</select>
		<rptatribute>
			<title>
				<item>					
					<titlecol>	
						<isshow>false</isshow>
					</titlecol>	
					<titlecol>
						<text>工单流水号</text>
					</titlecol>	
					<titlecol>
						<text>工单主题</text>
					</titlecol>		
					<titlecol>
						<text>建单人</text>
					</titlecol>	
					<titlecol>
						<text>建单时间</text>
					</titlecol>
					<titlecol>
						<text>工单状态</text>
					</titlecol>						
				</item>
			</title>			
		</rptatribute>
	</sqlquery>
	<sqlquery name="SQL_formDealStatistics_firstaccept_inc" dbpoolname="">
		<select>
		<![CDATA[
		select
		       /*COUNT*/
		       rs.baseid,
		       rs.BaseSN,
		       rs.BaseSummary,
		       rs.BaseCreatorFullName,
		       rs.BaseCreateDate,
		       rs.BaseStatus
		       /*COUNT*/
		   from 
		  (
			select 
			       t.c1 as baseid,
			       t.c700000003 as BaseSN,
			       t.c700000011 as BaseSummary,
			       t.c700000004 as BaseCreatorFullName,
			       to_char(to_date('19700101', 'yyyymmdd') +
						t.c700000006 / 86400 + 8 / 24,
						'yyyy-mm-dd hh24:MI:ss') as BaseCreateDate,
			       t.c700000010 as BaseStatus
		          from {#basename#} t,{WF:App_DealProcess} d
		         where t.c1 = d.c700020001
		            and t.c700000001 = d.c700020002
		            and d.c700020003 = 'dp_2'
		            and d.c700020020 = 1
		            and d.c700020016 > 0
		           #con_groupids#
		           #con_time#
		           group by  t.c1,t.c700000003,t.c700000011,t.c700000004,t.c700000006,t.c700000010
		           ) rs
	         order by rs.BaseCreateDate desc
		  ]]>
		</select>
		<rptatribute>
			<title>
				<item>					
					<titlecol>	
						<isshow>false</isshow>
					</titlecol>	
					<titlecol>
						<text>工单流水号</text>
					</titlecol>	
					<titlecol>
						<text>工单主题</text>
					</titlecol>		
					<titlecol>
						<text>建单人</text>
					</titlecol>	
					<titlecol>
						<text>建单时间</text>
					</titlecol>
					<titlecol>
						<text>工单状态</text>
					</titlecol>						
				</item>
			</title>			
		</rptatribute>
	</sqlquery>
	<sqlquery name="SQL_formDealStatistics_secondaccept_inc" dbpoolname="">
		<select>
		<![CDATA[
		select
		       /*COUNT*/
		       rs.baseid,
		       rs.BaseSN,
		       rs.BaseSummary,
		       rs.BaseCreatorFullName,
		       rs.BaseCreateDate,
		       rs.BaseStatus
		       /*COUNT*/
		   from 
		  (
			select 
			       t.c1 as baseid,
			       t.c700000003 as BaseSN,
			       t.c700000011 as BaseSummary,
			       t.c700000004 as BaseCreatorFullName,
			       to_char(to_date('19700101', 'yyyymmdd') +
						t.c700000006 / 86400 + 8 / 24,
						'yyyy-mm-dd hh24:MI:ss') as BaseCreateDate,
			       t.c700000010 as BaseStatus
		          from {#basename#} t,{WF:App_DealProcess} d
		         where t.c1 = d.c700020001
		            and t.c700000001 = d.c700020002
		            #con_secunders#
		            and d.c700020020 = 1
		            and d.c700020072=0
		            and d.c700020014 >0
	                and (d.c700020014-#con_curtime#)<14400
		           #con_groupids#
		           #con_time#
		           group by  t.c1,t.c700000003,t.c700000011,t.c700000004,t.c700000006,t.c700000010
		           ) rs
	         order by rs.BaseCreateDate desc
		  ]]>
		</select>
		<rptatribute>
			<title>
				<item>					
					<titlecol>	
						<isshow>false</isshow>
					</titlecol>	
					<titlecol>
						<text>工单流水号</text>
					</titlecol>	
					<titlecol>
						<text>工单主题</text>
					</titlecol>		
					<titlecol>
						<text>建单人</text>
					</titlecol>	
					<titlecol>
						<text>建单时间</text>
					</titlecol>
					<titlecol>
						<text>工单状态</text>
					</titlecol>						
				</item>
			</title>			
		</rptatribute>
	</sqlquery>
	<sqlquery name="SQL_formDealStatistics_waiturge" dbpoolname="">
		<select>
		<![CDATA[
		 select
		       /*COUNT*/
		       rs.baseid,
		       rs.BaseSN,
		       rs.BaseSummary,
		       rs.BaseCreatorFullName,
		       rs.BaseCreateDate,
		       rs.BaseStatus
		       /*COUNT*/
		   from 
		  (
			select 
			       t.c1 as baseid,
			       t.c700000003 as BaseSN,
			       t.c700000011 as BaseSummary,
			       t.c700000004 as BaseCreatorFullName,
			       to_char(to_date('19700101', 'yyyymmdd') +
						t.c700000006 / 86400 + 8 / 24,
						'yyyy-mm-dd hh24:MI:ss') as BaseCreateDate,
			       t.c700000010 as BaseStatus
		          from {#basename#} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
	               and t.c700000001 = d.c700020002
	               #con_groupid#
		           and d.c700020020 = 1
		           #con_formstatus#
		           and (t.c700000018-#con_curtime#)<3600
		           and (t.c700000018-#con_curtime#)>0
		           #con_time#
		           group by  t.c1,t.c700000003,t.c700000011,t.c700000004,t.c700000006,t.c700000010
		          ) rs
	         order by rs.BaseCreateDate desc
		  ]]>
		</select>
		<rptatribute>
			<title>
				<item>					
					<titlecol>	
						<isshow>false</isshow>
					</titlecol>	
					<titlecol>
						<text>工单流水号</text>
					</titlecol>	
					<titlecol>
						<text>工单主题</text>
					</titlecol>		
					<titlecol>
						<text>建单人</text>
					</titlecol>	
					<titlecol>
						<text>建单时间</text>
					</titlecol>
					<titlecol>
						<text>工单状态</text>
					</titlecol>						
				</item>
			</title>			
		</rptatribute>
	</sqlquery>
	<sqlquery name="SQL_formDealStatistics_waiturge2" dbpoolname="">
		<select>
		<![CDATA[
		 select
		       /*COUNT*/
		       rs.baseid,
		       rs.BaseSN,
		       rs.BaseSummary,
		       rs.BaseCreatorFullName,
		       rs.BaseCreateDate,
		       rs.BaseStatus
		       /*COUNT*/
		   from 
		  (
			select 
			       t.c1 as baseid,
			       t.c700000003 as BaseSN,
			       t.c700000011 as BaseSummary,
			       t.c700000004 as BaseCreatorFullName,
			       to_char(to_date('19700101', 'yyyymmdd') +
						t.c700000006 / 86400 + 8 / 24,
						'yyyy-mm-dd hh24:MI:ss') as BaseCreateDate,
			       t.c700000010 as BaseStatus
		          from {#basename#} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
	               and t.c700000001 = d.c700020002
	               #con_groupid#
		           and d.c700020020 = 1
		           #con_formstatus#
		           and (t.c700000018-#con_curtime#)<7200
		           and (t.c700000018-#con_curtime#)>3600
		           #con_time#
		           group by  t.c1,t.c700000003,t.c700000011,t.c700000004,t.c700000006,t.c700000010
		          ) rs
	         order by rs.BaseCreateDate desc
		  ]]>
		</select>
		<rptatribute>
			<title>
				<item>					
					<titlecol>	
						<isshow>false</isshow>
					</titlecol>	
					<titlecol>
						<text>工单流水号</text>
					</titlecol>	
					<titlecol>
						<text>工单主题</text>
					</titlecol>		
					<titlecol>
						<text>建单人</text>
					</titlecol>	
					<titlecol>
						<text>建单时间</text>
					</titlecol>
					<titlecol>
						<text>工单状态</text>
					</titlecol>						
				</item>
			</title>			
		</rptatribute>
	</sqlquery>
	<sqlquery name="SQL_formDealStatistics_waitclosed_net" dbpoolname="">
		<select>
		<![CDATA[
		select
		       /*COUNT*/
		       rs.baseid,
		       rs.BaseSN,
		       rs.BaseSummary,
		       rs.BaseCreatorFullName,
		       rs.BaseCreateDate,
		       rs.BaseStatus
		       /*COUNT*/
		   from 
		  (
			select 
			       t.c1 as baseid,
			       t.c700000003 as BaseSN,
			       t.c700000011 as BaseSummary,
			       t.c700000004 as BaseCreatorFullName,
			       to_char(to_date('19700101', 'yyyymmdd') +
						t.c700000006 / 86400 + 8 / 24,
						'yyyy-mm-dd hh24:MI:ss') as BaseCreateDate,
			       t.c700000010 as BaseStatus
		          from {#basename#} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
	               and t.c700000001 = d.c700020002
	               and d.c700020004 = 'BEGIN'
	               and d.c700020020 =1
	               and (t.c700000010 = '已完成'
	               #deal_process#
	               #con_groupid#
		           #con_time#
		         group by  t.c1,t.c700000003,t.c700000011,t.c700000004,t.c700000006,t.c700000010
		          ) rs
	         order by rs.BaseCreateDate desc
		  ]]>
		</select>
		<rptatribute>
			<title>
				<item>					
					<titlecol>	
						<isshow>false</isshow>
					</titlecol>	
					<titlecol>
						<text>工单流水号</text>
					</titlecol>	
					<titlecol>
						<text>工单主题</text>
					</titlecol>		
					<titlecol>
						<text>建单人</text>
					</titlecol>	
					<titlecol>
						<text>建单时间</text>
					</titlecol>
					<titlecol>
						<text>工单状态</text>
					</titlecol>						
				</item>
			</title>			
		</rptatribute>
	</sqlquery>
	<sqlquery name="SQL_formDealStatistics_waitclosed_inc" dbpoolname="">
		<select>
		<![CDATA[
		select
		       /*COUNT*/
		       rs.baseid,
		       rs.BaseSN,
		       rs.BaseSummary,
		       rs.BaseCreatorFullName,
		       rs.BaseCreateDate,
		       rs.BaseStatus
		       /*COUNT*/
		   from 
		  (
			select 
			       t.c1 as baseid,
			       t.c700000003 as BaseSN,
			       t.c700000011 as BaseSummary,
			       t.c700000004 as BaseCreatorFullName,
			       to_char(to_date('19700101', 'yyyymmdd') +
						t.c700000006 / 86400 + 8 / 24,
						'yyyy-mm-dd hh24:MI:ss') as BaseCreateDate,
			       t.c700000010 as BaseStatus
		          from {#basename#} t, {WF:App_DealProcess} d
		         where t.c1 = d.c700020001
	               and t.c700000001 = d.c700020002
	               and d.c700020020 =1
	               #deal_process#
	               #con_groupid#
		           #con_time#
		         group by  t.c1,t.c700000003,t.c700000011,t.c700000004,t.c700000006,t.c700000010
		         ) rs
	         order by rs.BaseCreateDate desc
		  ]]>
		</select>
		<rptatribute>
			<title>
				<item>					
					<titlecol>	
						<isshow>false</isshow>
					</titlecol>	
					<titlecol>
						<text>工单流水号</text>
					</titlecol>	
					<titlecol>
						<text>工单主题</text>
					</titlecol>		
					<titlecol>
						<text>建单人</text>
					</titlecol>	
					<titlecol>
						<text>建单时间</text>
					</titlecol>
					<titlecol>
						<text>工单状态</text>
					</titlecol>						
				</item>
			</title>			
		</rptatribute>
	</sqlquery>
</sql-group>
<?xml version="1.0" encoding="UTF-8"?>
<sql-group>
	<doc>
		<author>作者</author> 
		<date>时间</date> 
		<description>Sql 描述</description> 		
	</doc>
	<sqlquery name="query.vpn.select">
		<select>
		<![CDATA[ 
			select
   			  /*COUNT*/
				m.VPNID,
				m.BASEID,
				m.BASESCHEMA,
				m.VPNNAME,
				m.VPNTYPE,
				m.PECE,
				m.RT,
				m.RD,
				c.CONTENTID,
				c.PROVINCE,
				c.ADDRESS,
				d.DETAILID,
				d.PREADJUST,
				d.CE_EQTNAME,
				d.CE_EQTTYPE,
				d.CE_PORT,
				d.CE_PORTTYPE,
				d.CE_NETADDRESS,
				d.CE_PEROUTE,
				d.CE_NEEDWIDTH,
				d.CE_TRANSFTYPE,
				d.CE_CONTECTNAME,
				d.CE_CONTECTPHONE,
				d.PE_ADDRESS,
				d.PE_EQTNAME,
				d.PE_EQTTYPE,
				d.PE_PORT,
				d.PE_PORTTYPE,
				d.PE_PEIP,
				d.PE_CEIP,
				d.PE_RTIMPORT,
				d.PE_RTEXPORT,
				d.MAXWIDTH,
				d.MAXUSE,
				d.NEEDFINISHDATE,
				d.MAINCOMPANY,
				d.CSE_LINENUM,
				d.CSE_ROUTE,
				d.CSE_ROUTEWAY_MAIN,
				d.CSE_ROUTEWAY_BAK,
				d.CSE_ROUTELEN_MAIN,
				d.CSE_ROUTELEN_BAK,
				d.CSE_ODFNUM_PE,
				d.CSE_ODFNUM_CSE,
				d.CSE_PORT,
				d.CSE_RUNTIME,
				d.CSE_CHANGEDESC
   			  /*COUNT*/
			from VPN_MAIN m left join VPN_CONTENT c on m.VPNID = c.VPNID left join VPN_DETAIL d on c.CONTENTID = d.CONTENTID
			where
				$basequery$ 
			order by c.PROVINCE asc, c.ADDRESS asc, c.CONTENTID asc, d.PREADJUST asc
		  ]]> 
		</select>
		<customwhere>
			<parameterMap prepend="" name="basequery">
				<mapingFiled  prepend="AND" fieldName="baseid"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 m.baseid = '#baseid#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="baseschema"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 m.baseschema = '#baseschema#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
				<mapingFiled  prepend="AND" fieldName="id"  fieldType="4">
					<mapsql value="isnotnull">
						<![CDATA[
							 m.VPNID = '#id#'
						 ]]>  			
					</mapsql>
				</mapingFiled>
			</parameterMap>
 		</customwhere>
	</sqlquery>
</sql-group>
